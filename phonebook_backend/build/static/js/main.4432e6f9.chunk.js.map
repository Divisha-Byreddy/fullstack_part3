{"version":3,"sources":["Components/Filter.js","Components/PersonForm.js","Components/Persons.js","services/person.js","Components/Notification.js","App.js","index.js"],"names":["Filter","searchNames","onChange","PersonForm","props","onSubmit","savePerson","value","newName","handleNameChange","newNumber","handleNumberChange","type","Person","person","onClick","name","number","url","axios","get","then","response","data","newPerson","post","id","delete","updatedPerson","put","Notification","messageInfo","message","errorStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","persons","setPersons","setNewName","setNewNumber","filteredPersons","setFilteredPersons","errorMessage","setErrorMessage","useEffect","personService","event","target","searchResult","filter","toLowerCase","includes","preventDefault","console","log","window","alert","length","existingPerson","find","confirm","map","x","setTimeout","catch","error","concat","removePerson","ReactDOM","render","document","getElementById"],"mappings":"wJAUeA,EARA,SAAC,GAAkB,IAAjBC,EAAgB,EAAhBA,YACf,OACI,qDACsB,uBAAOC,SAAYD,QCehCE,EAlBI,SAACC,GAChB,OACI,8BACA,uBAAMC,SAAUD,EAAME,WAAtB,UACG,0CACS,uBAAOC,MAAOH,EAAMI,QAASN,SAAUE,EAAMK,sBAEtD,4CACW,uBAAOF,MAAOH,EAAMM,UAAWR,SAAUE,EAAMO,wBAE1D,8BACE,wBAAQC,KAAK,SAAb,yBCHEC,EARA,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,QACrB,OACI,8BACE,mCAAMD,EAAOE,KAAb,IAAoBF,EAAOG,OAA3B,IAAmC,wBAAQF,QAAWA,EAAnB,0B,gBCJvCG,EAAM,eAsBG,EApBI,WAEjB,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfG,SAAAC,GAEhB,OADgBL,IAAMM,KAAKP,EAAIM,GAChBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVM,SAAAG,GAEnB,OADcP,IAAMQ,OAAN,UAAgBT,EAAhB,YAAuBQ,IACtBL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALM,SAACG,EAAGE,GAEvB,OADcT,IAAMU,IAAN,UAAaX,EAAb,YAAoBU,EAAcF,KACjCL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCK5BO,EAvBM,SAAC,GAAmB,IAAlBC,EAAiB,EAAjBA,YAErB,GAAkB,MAAfA,GAA8C,MAAvBA,EAAYC,QACtC,CACE,IAAMC,EAAa,CACfC,MAAOH,EAAYG,MACnBC,WAAY,YACZC,SAAU,OACVC,YAAa,QACbC,aAAc,MACdC,QAAS,OACTC,aAAc,QAGhB,OACE,qBAAKC,MAASR,EAAd,SACKF,EAAYC,UAIvB,OAAO,MC2FMU,EA1GH,WAAO,IAAD,EACeC,mBAAS,IADxB,mBACTC,EADS,KACCC,EADD,OAEeF,mBAAS,IAFxB,mBAETnC,EAFS,KAECsC,EAFD,OAGmBH,mBAAS,IAH5B,mBAGTjC,EAHS,KAGGqC,EAHH,OAI8BJ,mBAASC,GAJvC,mBAITI,EAJS,KAIQC,EAJR,OAKwBN,mBAAS,IALjC,mBAKTO,EALS,KAKKC,EALL,KAchBC,qBAPa,WACXC,IAA2BhC,MAAK,SAAAE,GAC5BsB,EAAWtB,GACX0B,EAAmB1B,QAIT,IA6EhB,OACE,gCACE,2CACA,cAAC,EAAD,CAAcQ,YAAemB,IAC7B,cAAC,EAAD,CAAQjD,YAZQ,SAACqD,GAClB,IAAI/C,EAAQ+C,EAAMC,OAAOhD,MACrBiD,EAAeZ,EAAQa,QAAO,SAAA3C,GAChC,OAAOA,EAAOE,KAAK0C,cAAcC,SAASpD,EAAMmD,kBAEnDT,EAAmBO,MAQjB,2CACA,cAAC,EAAD,CAAYhD,QAAWA,EAASE,UAAaA,EAAWD,iBAjFnC,SAAC6C,GACxBR,EAAWQ,EAAMC,OAAOhD,QAgFwEI,mBA7EvE,SAAC2C,GAC1BP,EAAaO,EAAMC,OAAOhD,QA4E8GD,WAzEvH,SAACgD,GAGlB,GAFAA,EAAMM,iBACNC,QAAQC,IAAItD,GACG,KAAZA,GAAgC,KAAdE,EACnB,OAAOqD,OAAOC,MAAP,2BACT,IAAIxC,EAAY,CAACR,KAAOR,EAAUS,OAASP,EAAUgB,GAAIkB,EAAQqB,OAAS,GACtEC,EAAiBtB,EAAQuB,MAAK,SAAArD,GAAM,OAAGA,EAAOE,KAAK0C,gBAAkBlD,EAAQkD,iBAC9EQ,EAEEA,EAAejD,SAAWP,EAExBqD,OAAOK,QAAP,UAAkB5C,EAAUR,KAA5B,iFACDQ,EAAUE,GAAKwC,EAAexC,GAC9B2B,EAA2Ba,EAAexC,GAAGF,GAAWH,MAAK,SAAAO,GAC3DiB,EAAWD,EAAQyB,KAAI,SAAAC,GAAC,OAAIA,EAAE5C,KAAOwC,EAAexC,GAAK4C,EAAI9C,MAC7DyB,EAAmBD,EAAgBqB,KAAI,SAAAC,GAAC,OAAIA,EAAE5C,KAAOwC,EAAexC,GAAK4C,EAAI9C,MAC7E2B,EAAgB,CAACnB,QAAO,gBAAWxB,GAAU0B,MAAQ,UACrDqC,YAAW,WAAOpB,EAAgB,QAAQ,QACzCqB,OAAM,SAAAC,GACPtB,EAAgB,CAACnB,QAAO,yBAAoBxB,EAApB,yCAAmE0B,MAAQ,QACnGqC,YAAW,WAAOpB,EAAgB,QAAQ,SAKhDY,OAAOC,MAAP,UAAgBxD,EAAhB,uCAGA6C,EAAwB7B,GAAWH,MAAK,SAAAE,GACtCsB,EAAWD,EAAQ8B,OAAOnD,IAC1B0B,EAAmBD,EAAgB0B,OAAOnD,IAC1C4B,EAAgB,CAACnB,QAAO,gBAAWxB,GAAU0B,MAAQ,UACrDqC,YAAW,WAAOpB,EAAgB,QAAQ,QACzCqB,OAAM,SAAAC,GACPZ,QAAQC,IAAIW,GACZtB,EAAgB,CAACnB,QAASyC,EAAMzC,QAAQE,MAAQ,QAChDqC,YAAW,WAAOpB,EAAgB,QAAQ,QAI9CL,EAAW,IACXC,EAAa,OAiCX,yCACCC,EAAgBqB,KAAI,SAAAvD,GAAM,OACzB,cAAC,EAAD,CAAwBA,OAAUA,EAAQC,QAAW,kBAhCtC,SAACD,GACpB,IAAIY,EAAKZ,EAAOY,GACbqC,OAAOK,QAAP,iBAAyBtD,EAAOE,KAAhC,QACDqC,EAA2B3B,GAAIL,MAAK,SAAAE,GAClCsB,EAAWD,EAAQa,QAAO,SAAAa,GAAC,OAAIA,EAAE5C,KAAOA,MACxCuB,EAAmBD,EAAgBS,QAAO,SAAAa,GAAC,OAAIA,EAAE5C,KAAOA,SACvD8C,OAAM,SAAAC,GACPT,MAAM,kBACNnB,EAAWD,EAAQa,QAAO,SAAAa,GAAC,OAAIA,EAAE5C,KAAOA,MACxCuB,EAAmBD,EAAgBS,QAAO,SAAAa,GAAC,OAAIA,EAAE5C,KAAOA,SAuBGiD,CAAa7D,KAA3DA,EAAOY,WCxG5BkD,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.4432e6f9.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({searchNames}) =>{\r\n  return(\r\n      <div>\r\n          filter shown with <input onChange = {searchNames}></input>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react';\r\n\r\nconst PersonForm = (props) =>{\r\n    return(\r\n        <div>\r\n        <form onSubmit={props.savePerson}>\r\n           <div>\r\n             name : <input value={props.newName} onChange={props.handleNameChange}/>\r\n           </div>\r\n           <div>\r\n             number : <input value={props.newNumber} onChange={props.handleNumberChange}/>\r\n           </div>\r\n           <div>\r\n             <button type='submit'>add</button>\r\n           </div>\r\n        </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react';\r\n\r\nconst Person = ({person, onClick}) =>{\r\n    return(\r\n        <div>\r\n          <li> {person.name} {person.number} <button onClick = {onClick}>delete</button></li>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person","import axios from 'axios';\r\nconst url = '/api/persons'\r\n\r\nconst getPersons = () =>{\r\n  const request = axios.get(url)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst addPerson = newPerson =>{\r\n  const request = axios.post(url,newPerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst removePerson = id => {\r\n  var request = axios.delete(`${url}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst updatePerson = (id,updatedPerson) =>{\r\n  var request = axios.put(`${url}/${updatedPerson.id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default {getPersons , addPerson,removePerson,updatePerson}","import React from 'react';\r\n\r\nconst Notification = ({messageInfo}) => {\r\n \r\n  if(messageInfo != null && messageInfo.message != null)\r\n  {\r\n    const errorStyle = {\r\n        color: messageInfo.color,\r\n        background: 'lightgrey',\r\n        fontSize: '20px',\r\n        borderStyle: 'solid',\r\n        borderRadius: '5px',\r\n        padding: '10px',\r\n        marginBottom: '10px',\r\n      }\r\n\r\n      return(\r\n        <div style = {errorStyle}>\r\n            {messageInfo.message}\r\n        </div>\r\n    )\r\n  }  \r\n  return null\r\n}\r\n\r\nexport default Notification","import React, { useEffect, useState } from 'react';\nimport Filter from './Components/Filter';\nimport PersonForm from './Components/PersonForm';\nimport Person from './Components/Persons';\nimport personService from './services/person'\nimport Notification from './Components/Notification'\n\nconst App = () => {\n  const [persons , setPersons] = useState([])\n  const [newName , setNewName] = useState('')\n  const [newNumber , setNewNumber] = useState('')\n  const [filteredPersons, setFilteredPersons] = useState(persons)\n  const [errorMessage, setErrorMessage] = useState([])\n\n  const hook = () => {\n    personService.getPersons().then(data => {\n        setPersons(data)\n        setFilteredPersons(data)\n      })\n  }\n  \n  useEffect(hook, [])\n\n  const handleNameChange = (event) =>{\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) =>{\n    setNewNumber(event.target.value)\n  }\n\n  const savePerson = (event) =>{\n    event.preventDefault()\n    console.log(newName);\n    if(newName === '' || newNumber === '')\n      return window.alert(`please enter valid data`)\n    var newPerson = {name : newName , number : newNumber,id: persons.length + 1}\n    var existingPerson = persons.find(person =>person.name.toLowerCase() === newName.toLowerCase())\n    if(existingPerson)\n    {\n      if(existingPerson.number !== newNumber)\n      {\n        if(window.confirm(`${newPerson.name} is already added to the phonebook, replace the old number with a new one?`)){\n          newPerson.id = existingPerson.id\n          personService.updatePerson(existingPerson.id,newPerson).then(updatedPerson => {\n            setPersons(persons.map(x => x.id !== existingPerson.id ? x : newPerson))\n            setFilteredPersons(filteredPersons.map(x => x.id !== existingPerson.id ? x : newPerson))\n            setErrorMessage({message :`Added ${newName}`,color : 'green'})\n            setTimeout(() => {setErrorMessage(null)}, 5000)\n          }).catch(error =>{\n            setErrorMessage({message :`Information of ${newName} has already been removed from server`,color : 'red'})\n            setTimeout(() => {setErrorMessage(null)}, 5000)\n          })\n        }\n      }\n      else \n      window.alert(`${newName} is already added to the phonebook`)\n    }\n    else{\n      personService.addPerson(newPerson).then(data =>{\n        setPersons(persons.concat(data))\n        setFilteredPersons(filteredPersons.concat(data))\n        setErrorMessage({message :`Added ${newName}`,color : 'green'})\n        setTimeout(() => {setErrorMessage(null)}, 5000)\n      }).catch(error =>{\n        console.log(error)\n        setErrorMessage({message :error.message,color : 'red'})\n        setTimeout(() => {setErrorMessage(null)}, 5000)\n      })\n      \n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const removePerson = (person) =>{\n    var id = person.id\n    if(window.confirm(`Delete ${person.name} ?`)){\n      personService.removePerson(id).then(data => {\n        setPersons(persons.filter(x => x.id !== id))\n        setFilteredPersons(filteredPersons.filter(x => x.id !== id))\n      }).catch(error =>{\n        alert( `Invalid person`)\n        setPersons(persons.filter(x => x.id !== id))\n        setFilteredPersons(filteredPersons.filter(x => x.id !== id))\n      }\n      )\n    }\n  }\n\n  const searchNames = (event) =>{\n     var value = event.target.value\n     var searchResult = persons.filter(person =>{\n       return person.name.toLowerCase().includes(value.toLowerCase())\n     })\n    setFilteredPersons(searchResult)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification messageInfo = {errorMessage}/>\n      <Filter searchNames={searchNames}/>\n      <h2>add a new</h2>\n      <PersonForm newName = {newName} newNumber = {newNumber} handleNameChange = {handleNameChange} handleNumberChange={handleNumberChange} savePerson = {savePerson}/>\n      <h2>Numbers</h2>\n      {filteredPersons.map(person => \n        <Person key={person.id} person = {person} onClick = {() => removePerson(person)} />\n      )}\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}